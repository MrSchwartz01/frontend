<template>
    <div>
      <!-- Header con opci√≥n para ir a la p√°gina principal -->
      <HeaderAnth
        :searchQuery="searchQuery"
        :isAuthenticated="isAuthenticated"
        @buscar="buscarProductos"
        @cerrar-sesion="cerrarSesion"
      />
    </div>
    <br>
  
    <div class="register-container">
      <h2>Crear Una Cuenta</h2>
      <p><router-link to="/">Inicio</router-link> / Registro</p>
  
      <form @submit.prevent="register">
        <div class="input-group">
          <label for="nombre">Nombre *</label>
          <input
            v-model="nombre"
            id="nombre"
            type="text"
            placeholder="Nombre"
            required
            @input="clearError('nombre')"
          />
          <p v-if="errors.nombre" class="error">{{ errors.nombre }}</p>
        </div>

        <div class="input-group">
          <label for="apellido">Apellido *</label>
          <input
            v-model="apellido"
            id="apellido"
            type="text"
            placeholder="Apellido"
            required
            @input="clearError('apellido')"
          />
          <p v-if="errors.apellido" class="error">{{ errors.apellido }}</p>
        </div>

        <div class="input-group">
          <label for="nombre_usuario">Nombre de usuario *</label>
          <input
            v-model="nombre_usuario"
            id="nombre_usuario"
            type="text"
            placeholder="Nombre de usuario"
            required
            @input="clearError('nombre_usuario')"
          />
          <p v-if="errors.nombre_usuario" class="error">{{ errors.nombre_usuario }}</p>
        </div>
  
        <div class="input-group">
          <label for="email">Correo electr√≥nico *</label>
          <input
            v-model="email"
            id="email"
            type="email"
            placeholder="Correo electr√≥nico"
            required
            @input="clearError('email')"
          />
          <p v-if="errors.email" class="error">{{ errors.email }}</p>
        </div>
  
        <div class="input-group">
          <label for="telefono">Tel√©fono</label>
          <input
            v-model="telefono"
            id="telefono"
            type="text"
            placeholder="N√∫mero de tel√©fono"
            @input="clearError('telefono')"
          />
          <p v-if="errors.telefono" class="error">{{ errors.telefono }}</p>
        </div>
  
        <div class="input-group">
          <label for="direccion">Direcci√≥n</label>
          <input
            v-model="direccion"
            id="direccion"
            type="text"
            placeholder="Direcci√≥n"
            @input="clearError('direccion')"
          />
          <p v-if="errors.direccion" class="error">{{ errors.direccion }}</p>
        </div>
  
        <div class="input-group">
          <label for="contrase√±a">Contrase√±a *</label>
          <div class="password-container">
            <input
              v-model="contrase√±a"
              id="contrase√±a"
              :type="passwordVisible ? 'text' : 'password'"
              placeholder="Contrase√±a"
              required
              @input="clearError('contrase√±a')"
            />
            <span class="toggle-password" @click="togglePasswordVisibility">
              {{ passwordVisible ? 'üëÅÔ∏è' : 'üôà' }}
            </span>
          </div>
          <p v-if="errors.contrase√±a" class="error">{{ errors.contrase√±a }}</p>
        </div>
  
        <button type="submit" class="register-button">Registrarse</button>
  
        <p class="account-info">
          ¬øYa tiene una cuenta? 
          <router-link to="/login">Inicie sesi√≥n aqu√≠</router-link>
        </p>
      </form>
  
      <p v-if="error" class="error">{{ error }}</p>
      <p v-if="success" class="success">{{ success }}</p>
    </div>
  </template>
<script src="./RegistroUsuario.js"></script>
<style src="./RegistroUsuario.css"></style>  